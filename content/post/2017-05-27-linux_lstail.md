---
archives:
- 2017
author: eiKatou
date: 2017-05-27T22:26:04+09:00
tags:
- Linux
title: "Linux Tips：直近の数ファイルのみ残して、それ以外を消す"
type: post
url: /20170527a.html
---
バックアップは7世代のみ残すといった運用をしている時、直近の7ファイルのみ残して、それ以外のファイルを消しますよね。そういう時に使えるコマンドTips。

<!--more-->

backup_*というファイル名でバックアップを取り、直近を7世代のみ残す場合のコマンド。
```sh
ls -t backup* | tail -n +8 | xargs rm -f
```

lsコマンドで、タイムスタンプの降順に出力する。tailコマンドがポイントで、オプションで8行目以降のみを出力。これで8世代以前のファイルのみを絞ることができる。それをrmで消す。